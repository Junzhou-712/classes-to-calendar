(this["webpackJsonpclasses-to-calendar"]=this["webpackJsonpclasses-to-calendar"]||[]).push([[0],{162:function(e,t,a){},187:function(e,t,a){"use strict";a.r(t);var n=a(2),o=a(0),i=a.n(o),r=a(14),s=a.n(r),c=a(99),l=a(18),d=a(24),h=a(19),u=a(260),j=a(136),p=a(261),m=a(232),b=(a(162),a(228)),g=a(231),f=a(230),x=a(54),O=a(191),y=Object(O.a)((function(e){return{titleWrapper:{flexGrow:1},title:{display:"inline-flex",alignItems:"center","&:hover":{cursor:"pointer"}},navLink:{marginLeft:e.spacing(2)},logo:{height:"24px",paddingRight:"8px"}}}));var v=function(e){var t=y(),a=Object(h.g)(),o=e.openInstructions,i=e.extractedClasses;return Object(n.jsx)(b.a,{position:"fixed",children:Object(n.jsxs)(f.a,{children:[Object(n.jsx)(x.a,{variant:"h5",className:t.titleWrapper,children:Object(n.jsxs)("span",{onClick:function(){return a.push("/")},className:t.title,children:[Object(n.jsx)("img",{className:t.logo,src:"/logo.png",alt:"Logo png"}),"Classes to Calendar"]})}),Object(n.jsx)(g.a,{color:"inherit",className:t.navLink,component:d.b,to:"/upload",onClick:o,children:"Upload"}),i.length>0&&Object(n.jsx)(g.a,{color:"inherit",className:t.navLink,component:d.b,to:"/classes",children:"Classes"}),Object(n.jsx)(g.a,{color:"inherit",className:t.navLink,onClick:o,children:"Instructions"}),Object(n.jsx)(g.a,{target:"blank",href:"https://github.com/broden-wanner/classes-to-calendar/issues",color:"inherit",className:t.navLink,children:"Issues"}),Object(n.jsx)(g.a,{target:"blank",href:"https://github.com/broden-wanner/classes-to-calendar",color:"inherit",className:t.navLink,children:"Github repo"}),Object(n.jsx)(g.a,{color:"inherit",className:t.navLink,component:d.b,to:"/contact",children:"Contact"})]})})},w=a(233),C=a(236),k=a(234),N=a(235),S=a(81),I=a.n(S),T=a(121),A=a.n(T),D=Object(m.a)((function(e){return{homeContent:{padding:e.spacing(8,0,6),display:"flex",alignItems:"center",width:"100%"},homeButtons:{marginTop:e.spacing(4)},card:{padding:"50px"},logo:{paddingLeft:e.spacing(1)},title:{display:"flex",width:"100%",justifyContent:"center",alignItems:"center"},divider:{maxWidth:"30%",border:"none",height:"2px",backgroundColor:"rgba(0, 0, 0, 0.12)",marginBottom:14}}}));function E(e){var t=D(),a=e.openInstructions;return Object(n.jsx)(i.a.Fragment,{children:Object(n.jsx)("div",{className:t.homeContent,children:Object(n.jsx)(w.a,{maxWidth:"md",children:Object(n.jsx)(k.a,{className:t.card,children:Object(n.jsxs)(N.a,{children:[Object(n.jsxs)(x.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,className:t.title,children:["Classes to Calendar",Object(n.jsx)("img",{className:t.logo,src:"/logo.png",alt:"Logo png",height:"100"})]}),Object(n.jsx)(x.a,{variant:"h5",align:"left",color:"textSecondary",paragraph:!0,children:"An online app that takes your UMN class schedule and enters it in Google Calendar, and you can export it to whatever calendar you want."}),Object(n.jsx)("hr",{className:t.divider}),Object(n.jsx)(x.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:"You can either install the browser extension or directly upload your schedule."}),Object(n.jsx)("div",{className:t.homeButtons,children:Object(n.jsxs)(C.a,{container:!0,spacing:2,justify:"center",children:[Object(n.jsx)(C.a,{item:!0,children:Object(n.jsx)(g.a,{variant:"contained",color:"primary",href:"https://chrome.google.com/webstore/detail/umn-classes-to-calendar/hgdfmecgpajmoeionaieooohpbkibaen",target:"blank",startIcon:Object(n.jsx)(A.a,{}),children:"Add Chrome Extension"})}),Object(n.jsx)(C.a,{item:!0,children:Object(n.jsx)(g.a,{variant:"contained",color:"primary",component:d.b,to:"/upload",onClick:a,startIcon:Object(n.jsx)(I.a,{}),children:"Upload class schedule"})})]})})]})})})})})}var L=a(52),F=a.n(L),R=a(138),W=a(82),B=a(83),P=a(139),G=a(137),M=a(16),U=a(237),z=a(238),H=a(5),Y=a(122),_=a.n(Y),q=a(123),V=a.n(q),K=function(e){Object(P.a)(a,e);var t=Object(G.a)(a);function a(){var e;Object(W.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={dragging:!1,userHasSelectedFile:!1},e.dragCounter=0,e.dropRef=i.a.createRef(),e.allowedFiles=["html","htm"],e.isAllowedFile=function(t){var a=t.name.match(/\.([0-9a-z]+)/i);return e.allowedFiles.includes(a[1].toLowerCase())},e.handleDrag=function(e){e.preventDefault(),e.stopPropagation()},e.handleDragIn=function(t){t.preventDefault(),t.stopPropagation(),e.dragCounter++,t.dataTransfer.items&&t.dataTransfer.items.length>0&&e.setState({dragging:!0})},e.handleDragOut=function(t){t.preventDefault(),t.stopPropagation(),e.dragCounter--,e.dragCounter>0||e.setState({dragging:!1})},e.handleDrop=function(t){if(t.preventDefault(),t.stopPropagation(),e.setState({dragging:!1}),t.dataTransfer.files&&t.dataTransfer.files.length>0){var a=t.dataTransfer.files[0];if(!e.isAllowedFile(a))return void e.props.openToast("Invalid file type. Make sure it is html or htm.","error");e.setState({userHasSelectedFile:!0}),e.props.handleFileSelect(a),t.dataTransfer.clearData(),e.dragCounter=0}},e.handleFileSelect=function(t){e.setState({dragging:!1}),t.target.files&&t.target.files.length>0&&(e.setState({userHasSelectedFile:!0}),e.props.handleFileSelect(t.target.files[0]),e.dragCounter=0)},e}return Object(B.a)(a,[{key:"componentDidMount",value:function(){var e=this.dropRef.current;this.dragCounter=0,e.addEventListener("dragenter",this.handleDragIn),e.addEventListener("dragleave",this.handleDragOut),e.addEventListener("dragover",this.handleDrag),e.addEventListener("drop",this.handleDrop)}},{key:"componentWillUnmount",value:function(){var e=this.dropRef.current;e.removeEventListener("dragenter",this.handleDragIn),e.removeEventListener("dragleave",this.handleDragOut),e.removeEventListener("dragover",this.handleDrag),e.removeEventListener("drop",this.handleDrop)}},{key:"render",value:function(){var e=this.props.classes,t=Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(I.a,{style:{fontSize:80},color:"action"}),Object(n.jsx)(x.a,{component:"h4",variant:"h4",color:"textSecondary",align:"center",children:"Drag and drop .html or .htm file here"})]}),a=Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(_.a,{style:{fontSize:80},color:"action"}),Object(n.jsx)(x.a,{component:"h4",variant:"h4",color:"textSecondary",children:"Add file"})]}),o=Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(V.a,{style:{fontSize:80},color:"action"}),Object(n.jsx)(x.a,{color:"textSecondary",className:e.filePreview,children:this.props.selectedFileName})]});return Object(n.jsxs)(k.a,{variante:"outlined",className:e.cardStyle,children:[Object(n.jsx)(N.a,{children:Object(n.jsx)("label",{htmlFor:"html-upload",children:Object(n.jsx)("div",{ref:this.dropRef,className:e.dropzoneArea,children:Object(n.jsx)("div",{className:e.uploadInfo,children:this.state.userHasSelectedFile?o:this.state.dragging?a:t})})})}),Object(n.jsxs)(U.a,{className:e.buttonContainer,children:[Object(n.jsx)("input",{accept:"text/html, text/htm",className:e.input,id:"html-upload",type:"file",onChange:this.handleFileSelect}),Object(n.jsx)("label",{htmlFor:"html-upload",children:Object(n.jsx)(g.a,{variant:"contained",color:"primary",component:"span",children:"Browse"})}),Object(n.jsx)(g.a,{variant:"contained",color:"primary",disabled:!this.props.selectedFileName,onClick:this.props.handleUpload,children:"Upload"})]}),"uploading"===this.props.uploadStatus&&Object(n.jsx)("div",{className:e.loadingOverlay,children:Object(n.jsx)(z.a,{})})]})}}]),a}(o.Component),J=Object(H.a)((function(e){return{cardStyle:{padding:"20px"},dropzoneArea:{display:"flex",position:"relative",border:"2px dashed #ccc",width:"100%",minHeight:"400px",padding:"20px",transition:"all 0.1s ease-in-out","&:hover":{backgroundColor:e.palette.grey[200],cursor:"pointer"}},loadingOverlay:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:0,left:0,zIndex:9999,width:"100%",height:"100%",borderRadius:"4px",backgroundColor:Object(M.c)(e.palette.grey[900],.4),flexGrow:0,flexBasis:"66.66667%",maxWidth:"65.86667%",maxHeight:"94.3%",marginTop:e.spacing(2)},uploadInfo:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},filePreview:{fontSize:"34px",marginTop:e.spacing(2)},input:{display:"none"},buttonContainer:{justifyContent:"center"}}}))(K),$=a(22),Z=a(262),Q=a(135),X=Object(m.a)((function(e){return{datePicker:{flex:1},datePickerContainer:{flexDirection:"column"}}}));var ee=function(e){var t=X(),a=e.startDate,o=e.onStartDateChange,i=e.endDate,r=e.onEndDateChange;return Object(n.jsx)($.a,{utils:Q.a,children:Object(n.jsxs)(C.a,{container:!0,className:t.datePickerContainer,children:[Object(n.jsx)(Z.a,{className:t.datePicker,disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",label:"Start date",value:a,onChange:o,KeyboardButtonProps:{"aria-label":"change date"}}),Object(n.jsx)(Z.a,{className:t.datePicker,disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",label:"End date",value:i,onChange:r,KeyboardButtonProps:{"aria-label":"change date"}})]})})},te={defaultStartDate:new Date(2021,0,19),defaultEndDate:new Date(2020,4,3)};Object.freeze(te);var ae=te,ne=Object(m.a)((function(e){return{uploadContent:{display:"flex",width:"100%",alignItems:"center",flexDirection:"column"},uploadContainer:{position:"relative",padding:0},header:{color:e.palette.grey[50],marginBottom:e.spacing(2)},sectionTitle:{marginBottom:e.spacing(1)},pageContent:{marginTop:"15vh"},datePicker:{padding:e.spacing(4)}}}));var oe=function(e){var t=ne(),a=Object(h.g)(),i=Object(o.useState)(null),r=Object(l.a)(i,2),s=r[0],c=r[1],d=Object(o.useState)(""),u=Object(l.a)(d,2),j=u[0],p=u[1],m=Object(o.useState)(""),b=Object(l.a)(m,2),g=b[0],f=b[1],O=Object(o.useState)(ae.defaultStartDate),y=Object(l.a)(O,2),v=y[0],S=y[1],I=Object(o.useState)(ae.defaultEndDate),T=Object(l.a)(I,2),A=T[0],D=T[1];return Object(n.jsx)("div",{className:t.uploadContent,children:Object(n.jsxs)(w.a,{className:t.pageContent,children:[Object(n.jsx)(w.a,{className:t.header,children:Object(n.jsx)(x.a,{variant:"h2",align:"center",component:"h1",color:"inherit",children:"Upload Schedule"})}),Object(n.jsx)(w.a,{maxWidth:"xl",className:t.uploadContainer,children:Object(n.jsxs)(C.a,{container:!0,justify:"space-between",spacing:4,children:[Object(n.jsx)(C.a,{item:!0,xs:8,children:Object(n.jsx)(J,{handleFileSelect:function(e){c(e),p(e.name)},handleUpload:function(){var t="".concat("","/api/upload-html"),n=new FormData;n.append("file",s),n.append("startDate",Object(R.a)(v,"Y-M-d")),n.append("endDate",Object(R.a)(A,"Y-M-d")),f("uploading"),F.a.post(t,n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){f("uploaded");var n=t.data,o=n.classes,i=n.extracted_all;if(!(o&&Array.isArray(o)&&o.length>0))throw new Error("No classes extracted. Ensure your file meets the requirements.");e.handleClasses(o),i?e.openToast("Classes extracted","success"):e.openToast("Only some data extracted. Fill in the missing info.","warning"),a.push("/classes")})).catch((function(t){console.error("Error with upload",t);var a="";a=t.response?t.response.data.message:t.message,e.openToast(a,"error"),f("uploaded")}))},uploadStatus:g,selectedFileName:j,openToast:e.openToast})}),Object(n.jsx)(C.a,{item:!0,xs:4,children:Object(n.jsx)(k.a,{children:Object(n.jsxs)(N.a,{className:t.datePicker,children:[Object(n.jsx)(x.a,{className:t.sectionTitle,component:"h5",variant:"h5",children:"Select date range"}),Object(n.jsxs)(x.a,{variant:"body2",children:["Defaults to the current UMN term: ",Object(n.jsx)("strong",{children:"Fall 2020"})]}),Object(n.jsx)(ee,{startDate:v,onStartDateChange:S,endDate:A,onEndDateChange:D})]})})})]})})]})})},ie=a(124),re=a.n(ie),se=a(125),ce=a.n(se),le=a(127),de=a.n(le),he=a(128),ue=a.n(he),je=a(126),pe=a.n(je),me=a(270),be=a(248),ge=a(189),fe=a(98),xe=a(247),Oe={success:re.a,warning:ce.a,error:pe.a,info:de.a},ye=Object(m.a)((function(e){return{success:{backgroundColor:fe.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:xe.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));var ve=function(e){var t=ye(),a=e.message,o=e.handleClose,i=e.variant,r=e.open,s=Oe[i];return Object(n.jsx)(me.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:r,onClose:o,autoHideDuration:4e3,children:Object(n.jsx)(be.a,{className:t[i],"aria-describedby":"client-snackbar",message:Object(n.jsxs)("span",{id:"client-snackbar",className:t.message,children:[Object(n.jsx)(s,{className:t.icon+" "+t.iconVariant}),a]}),action:[Object(n.jsx)(ge.a,{"aria-label":"close",color:"inherit",onClick:o,children:Object(n.jsx)(ue.a,{className:t.icon})},"close")]})})},we=a(266),Ce=a(249),ke=a(250),Ne=a(245),Se=a(269),Ie=a(243),Te=a(251),Ae=a(129),De=a.n(Ae),Ee=Object(H.a)({root:{border:"1px solid rgba(0, 0, 0, .125)",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(we.a),Le=Object(H.a)({root:{backgroundColor:"rgba(0, 0, 0, .03)",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(Ce.a),Fe=Object(H.a)((function(e){return{root:{padding:e.spacing(2)}}}))(ke.a),Re=Object(m.a)((function(e){return{heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},inputField:{marginBottom:e.spacing(1)},info:{flexDirection:"column"}}}));var We=function(e){var t=Re(),a=e.cls,i=e.handleClassChange,r=e.handleClassDelete,s=Object(o.useState)(a.name),c=Object(l.a)(s,2),d=c[0],h=c[1],u=function(e){a[e.target.name]=e.target.value,i(a),"name"===e.target.name&&h(a.name)};return Object(n.jsxs)(Ee,{children:[Object(n.jsx)(Le,{expandIcon:Object(n.jsx)(De.a,{}),"aria-controls":"panel1a-content",children:Object(n.jsx)(x.a,{className:t.heading,color:"primary",children:d})}),Object(n.jsx)(Fe,{className:t.info,children:Object.keys(a).map((function(e,o){return"id"!==e&&Object(n.jsxs)(Ne.a,{className:t.inputField,required:!0,children:[Object(n.jsx)(Se.a,{children:(i=e,i=(i=i.replace(/_/g," ")).replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})))}),Object(n.jsx)(Ie.a,{name:e,defaultValue:a[e],onChange:u})]},o);var i}))}),Object(n.jsx)(Te.a,{children:Object(n.jsx)(g.a,{color:"primary",onClick:function(){r(a)},variant:"contained",children:"Remove"})})]},a.id)},Be=a(272),Pe=a(255),Ge=a(133),Me=a.n(Ge),Ue=a(68),ze=a.n(Ue),He=a(104),Ye=function(){function e(){Object(W.a)(this,e),this.signedIn=!1,this.gapi=null,this.onLoadCallback=null,this.calendar=null,this.GoogleAuth=null,this.initClient=this.initClient.bind(this),this.handleClientLoad=this.handleClientLoad.bind(this),this.handleAuthClick=this.handleAuthClick.bind(this),this.updateSigninStatus=this.updateSigninStatus.bind(this),this.handleClientLoad()}return Object(B.a)(e,[{key:"getConfig",value:function(){var e=Object(He.a)(ze.a.mark((function e(){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("".concat("","/api/google-config"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"initClient",value:function(){var e=Object(He.a)(ze.a.mark((function e(){var t,a=this;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gapi=window.gapi,e.next=3,this.getConfig();case 3:t=e.sent,this.gapi.client.init(t.data).then((function(){if(a.GoogleAuth=a.gapi.auth2.getAuthInstance(),!a.GoogleAuth)throw new Error("Could not authorize Google API");a.GoogleAuth.isSignedIn.listen(a.updateSigninStatus),a.updateSigninStatus(a.GoogleAuth.isSignedIn.get()),a.onLoadCallback&&a.onLoadCallback(a.signedIn)})).catch((function(e){console.error("Error in setting up the google client:"),console.error(e)}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleClientLoad",value:function(){var e=this;this.gapi=window.gapi;var t=document.createElement("script");t.src="https://apis.google.com/js/api.js",document.body.appendChild(t),t.onload=function(){window.gapi.load("client:auth2",e.initClient)}}},{key:"handleAuthClick",value:function(){this.GoogleAuth?this.GoogleAuth.signIn():console.error("App not authorized with Google")}},{key:"updateSigninStatus",value:function(e){this.signedIn=e,this.onLoadCallback&&this.onLoadCallback(e)}},{key:"listCalendars",value:function(){return this.gapi.client.calendar.calendarList.list()}},{key:"createCalendar",value:function(e){var t=this,a={summary:e,timeZone:"America/Chicago"};return this.gapi.client.calendar.calendars.insert(a).then((function(e){t.calendar=e.result,console.log(e)}))}},{key:"createEvent",value:function(e){return this.gapi.client.calendar.events.insert({calendarId:this.calendar.id,resource:e})}},{key:"setCalendar",value:function(e){this.calendar=e}}]),e}(),_e=a(252),qe=a(271),Ve=a(253),Ke=a(264),Je=a(267),$e=a(263),Ze=a(254),Qe=a(130),Xe=a.n(Qe),et=a(131),tt=a.n(et),at=Object(m.a)((function(e){return{card:{position:"relative",marginBottom:e.spacing(1)},buttonContainer:{display:"flex",justifyContent:"center"},optionsForm:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},formField:{marginLeft:e.spacing(4),marginBottom:e.spacing(2)},extendedIcon:{marginRight:"4px"},infoText:{marginBottom:e.spacing(1)},actionSection:{marginBottom:e.spacing(2),marginTop:e.spacing(1),"&:last-child":{marginBottom:0},"&:first-child":{marginTop:0}},datePicker:{flex:1,"&:last-child":{marginLeft:e.spacing(2)}}}}));var nt=function(e){var t=at(),a=e.sendToGcal,r=e.authorizeGcal,s=e.gcalClient,c=e.signedIn,d=e.exportCalendar,h=Object(o.useState)("new"),u=Object(l.a)(h,2),j=u[0],p=u[1],m=Object(o.useState)([]),b=Object(l.a)(m,2),f=b[0],O=b[1],y=Object(o.useState)(""),v=Object(l.a)(y,2),w=v[0],C=v[1],S=Object(o.useState)("Class Schedule"),I=Object(l.a)(S,2),T=I[0],A=I[1];return Object(n.jsx)(i.a.Fragment,{children:Object(n.jsx)(k.a,{className:t.card,children:Object(n.jsxs)(N.a,{children:[Object(n.jsxs)("div",{className:t.actionSection,children:[Object(n.jsx)(x.a,{variant:"h6",component:"h6",children:"Sign-in with Google"}),Object(n.jsx)("p",{className:t.infoText,children:"Before you can add the classes to your calendar, you must first sign in with Google."}),Object(n.jsx)("div",{className:t.buttonContainer,children:Object(n.jsx)("div",{onClick:r,className:"google-sign-in-button"})})]}),Object(n.jsx)(_e.a,{}),e.children,Object(n.jsxs)("div",{className:t.actionSection,children:[Object(n.jsx)(x.a,{variant:"h6",component:"h6",children:"Add to Google Calendar"}),Object(n.jsx)("p",{className:t.infoText,children:"You can add your classes to Google Calendar by either making a new calendar or adding them to an existing one. (You must be signed in with Google before you can do this.)"}),Object(n.jsx)("div",{className:t.optionsForm,children:Object(n.jsx)(Ne.a,{component:"fieldset",children:Object(n.jsxs)(qe.a,{"aria-label":"calendarOption",name:"calendarOption",defaultValue:j,onChange:function(t){p(t.target.value),"existing"===t.target.value&&0===f.length&&s.listCalendars().then((function(e){O(e.result.items)})).catch((function(t){e.openToast("Could not retrieve your calendar list.","error"),console.error(t)}))},children:[Object(n.jsx)(Ve.a,{value:"new",control:Object(n.jsx)(Ke.a,{}),label:"Make a new calendar",disabled:!c}),"new"===j&&Object(n.jsx)(Je.a,{className:t.formField,label:"New calendar name",variant:"filled",onChange:function(e){A(e.target.value)},defaultValue:T,disabled:!c}),Object(n.jsx)(Ve.a,{value:"existing",control:Object(n.jsx)(Ke.a,{}),label:"Add to existing calendar",disabled:!c}),"existing"===j&&Object(n.jsxs)(Ne.a,{className:t.formField,style:{width:"300px"},children:[Object(n.jsx)(Se.a,{children:"Select from calendars..."}),Object(n.jsx)($e.a,{label:"existing-calendar",defaultValue:"",onChange:function(e){C(e.target.value)},style:{width:"300px"},children:f.map((function(e){return Object(n.jsx)(Ze.a,{value:e.id,children:e.summary},e.id)}))})]})]})})}),Object(n.jsx)("div",{className:t.buttonContainer,children:Object(n.jsxs)(g.a,{color:"primary",onClick:function(t){if("new"===j)T?a(j,T,null):e.openToast("Must specify a name for the new calendar","error");else if("existing"===j)if(w){var n=f.filter((function(e){return e.id===w}))[0];a(j,null,n)}else e.openToast("Must select a calendar","error")},disabled:!c,children:[Object(n.jsx)(Xe.a,{className:t.extendedIcon}),"Send to GCal"]})})]}),Object(n.jsx)(_e.a,{}),e.children,Object(n.jsxs)("div",{className:t.actionSection,children:[Object(n.jsx)(x.a,{variant:"h6",component:"h6",children:"Export to Another Calendar"}),Object(n.jsx)("p",{className:t.infoText,children:"You can also export your classes to another calendar by clicking the export button. This will download a file that you can import to any other calendar service."}),Object(n.jsx)("div",{className:t.buttonContainer,children:Object(n.jsxs)(g.a,{color:"primary",onClick:d,children:[Object(n.jsx)(tt.a,{className:t.extendedIcon}),"Download"]})})]})]})})})},ot=Object(m.a)((function(e){return{classesPage:{display:"flex",width:"100%",justifyContent:"center",overflow:"auto"},loadingOverlay:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:0,left:0,zIndex:9999,width:"100%",height:"100%",borderRadius:"4px",backgroundColor:Object(M.c)(e.palette.grey[900],.4)},content:{height:"max-content",marginTop:"10vh",marginBottom:"10vh"},classesContainer:{display:"flex"},classList:{textAlign:"center",flex:3},actionCol:{flex:2,position:"relative",marginLeft:e.spacing(1)},header:{color:e.palette.grey[50],marginBottom:e.spacing(2)},classesInfo:{borderBottomLeftRadius:0,borderBottomRightRadius:0,textAlign:"left"},fabButton:{position:"relative",zIndex:1,top:-30,left:0,right:0,margin:"0 auto"}}})),it=new Ye;var rt=function(e){var t=ot(),a=Object(o.useState)(it.signedIn),i=Object(l.a)(a,2),r=i[0],s=i[1],c=Object(o.useState)("unbegun"),d=Object(l.a)(c,2),u=d[0],j=d[1];return it.onLoadCallback=function(e){s(e)},0===e.extractedClasses.length?Object(n.jsx)(h.a,{to:"/"}):Object(n.jsx)("div",{className:t.classesPage,children:Object(n.jsxs)(w.a,{className:t.content,children:[Object(n.jsx)(w.a,{className:t.header,children:Object(n.jsx)(x.a,{variant:"h2",align:"center",component:"h1",color:"inherit",children:"Review Classes"})}),Object(n.jsxs)(w.a,{className:t.classesContainer,children:[Object(n.jsxs)("div",{className:t.classList,children:[Object(n.jsx)(k.a,{className:t.classesInfo,children:Object(n.jsx)(N.a,{style:{paddingBottom:"16px"},children:"The classes extracted from your html are below. Review and edit the info for each class by clicking on it and changing anything that's incorrect."})}),e.extractedClasses.map((function(t){return Object(n.jsx)(We,{cls:t,handleClassChange:e.handleClassChange,handleClassDelete:e.handleClassDelete},t.id)})),Object(n.jsx)(Be.a,{title:"Add class","aria-label":"add class",children:Object(n.jsx)(Pe.a,{color:"primary",className:t.fabButton,onClick:e.handleClassAdd,children:Object(n.jsx)(Me.a,{})})})]}),Object(n.jsx)("div",{className:t.actionCol,children:Object(n.jsx)(nt,{sendToGcal:function(t,a,n){j("creating"),function(e,t,a){return"new"===e?t?it.createCalendar(t):new Promise((function(e,t){return t()})):"existing"===e?new Promise(a?function(e,t){it.setCalendar(a),e()}:function(e,t){return t()}):void 0}(t,a,n).then((function(){!function(){it.calendar||e.openToast("A calendar must be selected","error");var t=[],a=0;F.a.post("".concat("","/api/events"),e.extractedClasses).then((function(n){(t=n.data).forEach((function(n){it.createEvent(n).then((function(n){++a===t.length&&(j("created"),e.openToast("Successfully create events! Check your gcal","success"))})).catch((function(t){e.openToast("Could not create event "+n.summary,"error"),console.error(t)}))}))})).catch((function(t){e.openToast(t.message,"error"),j("error"),console.error(t)}))}()})).catch((function(t){e.openToast("Could not create or add to calendar.","error")}))},authorizeGcal:function(){it.handleAuthClick()},gcalClient:it,exportCalendar:function(){F.a.post("".concat("","/api/ics"),e.extractedClasses).then((function(e){var t=e.data.ics,a=document.createElement("a");a.setAttribute("href","data:text/calendar;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download","class-calendar.ics"),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)})).catch((function(t){e.openToast("Could create ics file. Please try again.","error"),console.error(t)}))},signedIn:r,openToast:e.openToast,children:"creating"===u&&Object(n.jsx)("div",{className:t.loadingOverlay,children:Object(n.jsx)(z.a,{})})})})]})]})})},st=a(265),ct=a(256),lt=a(240),dt=a(246),ht=a(190),ut=a(257),jt=a(258),pt=a(241),mt=Object(m.a)((function(e){return{content:{maxWidth:"960px",width:"100%"}}}));var bt=function(e){var t=mt(),a=e.open,o=e.onClose;return Object(n.jsxs)(st.a,{open:a,onClose:o,maxWidth:"md",children:[Object(n.jsx)(ct.a,{id:"simple-dialog-title",children:"How To"}),Object(n.jsx)(lt.a,{className:t.content,children:Object(n.jsxs)(dt.a,{component:"nav",dense:!0,children:[Object(n.jsxs)(ht.a,{children:[Object(n.jsx)(ut.a,{children:Object(n.jsx)(x.a,{children:"1."})}),Object(n.jsx)(jt.a,{children:"Go to myu.umn.edu, click on academics, and go to the 'My Classes' tab."})]}),Object(n.jsxs)(ht.a,{children:[Object(n.jsx)(ut.a,{children:Object(n.jsx)(x.a,{children:"2."})}),Object(n.jsx)(jt.a,{children:"Click to a week where all the classes appear. (If the first week doesn't have classes on Monday for instance, go to the second week so the Monday classes can be seen.)"})]}),Object(n.jsx)(ht.a,{style:{display:"text",justifyContent:"center"},children:Object(n.jsx)("img",{src:"example-calendar.png",height:"300",alt:"Example Calendar"})}),Object(n.jsxs)(ht.a,{children:[Object(n.jsx)(ut.a,{children:Object(n.jsx)(x.a,{children:"3."})}),Object(n.jsx)(jt.a,{children:'Right-click somewhere on the webpage and click "Save As..." to save the html file somewhere you\'ll rememeber. (This will also download an extra folder that you can delete. All you need is the .html file)'})]}),Object(n.jsxs)(ht.a,{children:[Object(n.jsx)(ut.a,{children:Object(n.jsx)(x.a,{children:"4."})}),Object(n.jsx)(jt.a,{children:"Drag and drop the html file here or select from your files by clicking on the upload zone."})]}),Object(n.jsxs)(ht.a,{children:[Object(n.jsx)(ut.a,{children:Object(n.jsx)(x.a,{children:"5."})}),Object(n.jsx)(jt.a,{children:"Once your html file is chosen, select the dates you would like the classes to be added with the date picker. The start and end dates default to the current UMN term dates."})]}),Object(n.jsxs)(ht.a,{children:[Object(n.jsx)(ut.a,{children:Object(n.jsx)(x.a,{children:"6."})}),Object(n.jsx)(jt.a,{children:'Once your html file is chose, click the "Upload" button, and wait for the classes to be read.'})]}),Object(n.jsxs)(ht.a,{children:[Object(n.jsx)(ut.a,{children:Object(n.jsx)(x.a,{children:"7."})}),Object(n.jsx)(jt.a,{children:"After the classes have been loaded, correct any data that is wrong on the next screen by clicking the class and directly editing it."})]}),Object(n.jsxs)(ht.a,{children:[Object(n.jsx)(ut.a,{children:Object(n.jsx)(x.a,{children:"8."})}),Object(n.jsx)(jt.a,{children:"Authorize the app to use your Google Calendar, and set your calendar creation options. Then submit and voil\xe0."})]})]})}),Object(n.jsx)(pt.a,{children:Object(n.jsx)(g.a,{onClick:o,color:"primary",children:"Close"})})]})},gt=a(259),ft=a(134),xt=a.n(ft),Ot=Object(m.a)((function(e){return{page:{display:"flex",width:"100%",overflow:"auto"},content:{marginTop:"10vh",paddingBottom:"5vh","& p":{marginBottom:e.spacing(3)}},card:{marginBottom:"10vh",padding:e.spacing(2)},icon:{fontSize:72}}}));var yt=function(){var e=Ot();return Object(n.jsx)("div",{className:e.page,children:Object(n.jsx)(w.a,{className:e.content,children:Object(n.jsx)(k.a,{className:e.card,children:Object(n.jsxs)(N.a,{children:[Object(n.jsxs)(C.a,{container:!0,justify:"space-between",children:[Object(n.jsx)(x.a,{variant:"h2",component:"h2",children:"Privacy Policy"}),Object(n.jsx)(xt.a,{className:e.icon})]}),Object(n.jsx)(x.a,{children:"Last updated August 15th, 2020"}),Object(n.jsxs)("p",{children:["Thank you for choosing to be part of our community (\u201cCompany\u201d, \u201cwe\u201d, \u201cus\u201d, or \u201cour\u201d). We are committed to protecting your personal information and your right to privacy. If you have any questions or concerns about our notice\xa0, or our practices with regards to your personal information, please contact us at"," ",Object(n.jsx)(gt.a,{href:"mailto:wanne036@umn.edu",children:"wanne036@umn.edu"}),". When you visit the website"," ",Object(n.jsx)(gt.a,{href:"classestocalendar.brodenwanner.com",children:"classestocalendar.brodenwanner.com"}),", and use our services, you trust us with your personal information. We take your privacy very seriously. In this privacy notice, we seek to explain to you in the clearest way possible what information we collect, how we use it and what rights you have in relation to it. We hope you take some time to read through it carefully, as it is important. If there are any terms in this privacy notice\xa0that you do not agree with, please discontinue use of our Sites and our services.\xa0 This privacy notice\xa0applies to all information collected through our website (such as"," ",Object(n.jsx)(gt.a,{href:"classestocalendar.brodenwanner.com",children:"classestocalendar.brodenwanner.com"}),'), and/or any related services, sales, marketing or events (we refer to them collectively in this privacy notice\xa0as the "Services").\xa0\xa0 Please read this privacy notice\xa0carefully as it will help you make informed decisions about sharing your personal information with us.\xa0\xa0']}),Object(n.jsx)(x.a,{variant:"h6",component:"h6",children:"1. WHAT INFORMATION DO WE COLLECT AND HOW DO WE USE IT?\xa0\xa0"}),Object(n.jsx)("p",{children:"We collect no information from any users. All data that is used to complete the service provided by the website for a specific user is not knowingly retained anywhere. That is the design of the website. The data that is used during use is only for the function of the app and that is all."}),Object(n.jsx)(x.a,{variant:"h6",component:"h6",children:"2. WILL YOUR INFORMATION BE SHARED WITH ANYONE?\xa0\xa0"}),Object(n.jsxs)("p",{children:["In Short:\xa0\xa0Your information will not be shared with anyone since we keep none of your information. If under any circumstance you find your information has been shared, please email"," ",Object(n.jsx)(gt.a,{href:"mailto:wanne036@umn.edu",children:"wanne036@umn.edu"})," or report it."]}),Object(n.jsx)(x.a,{variant:"h6",component:"h6",children:"3. HOW LONG DO WE KEEP YOUR INFORMATION?"}),"\xa0",Object(n.jsx)("p",{children:"In Short:\xa0\xa0We don't keep any of your information. All information pertaining to a user is destroyed after they leave the site."}),Object(n.jsx)(x.a,{variant:"h6",component:"h6",children:"4. HOW DO WE KEEP YOUR INFORMATION SAFE?"}),"\xa0\xa0",Object(n.jsx)("p",{children:"In Short:\xa0\xa0We aim to protect your personal information through a system of organizational and technical security measures.\xa0\xa0 We have implemented appropriate technical and organizational security measures designed to protect the security of any personal information we process. No personal information is retained after use, and all that is transmitted during use is sent with encryption over HTTPS. However, please also remember that we cannot guarantee that the internet itself is 100% secure. Although we will do our best to protect your personal information, transmission of personal information to and from our Services is at your own risk. You should only access the services within a secure environment.\xa0"}),Object(n.jsx)(x.a,{variant:"h6",component:"h6",children:"5. DO WE COLLECT INFORMATION FROM MINORS?\xa0\xa0"}),"\xa0",Object(n.jsxs)("p",{children:["In Short:\xa0\xa0We do not knowingly collect data from or market to children under 18 years of age.\xa0\xa0 We do not knowingly solicit data from or market to children under 18 years of age. By using the Services, you represent that you are at least 18 or that you are the parent or guardian of such a minor and consent to such minor dependent\u2019s use of the Services. If we learn that personal information from users less than 18 years of age has been collected, we will deactivate the account and take reasonable measures to promptly delete such data from our records. If you become aware of any data we have collected from children under age 18, please contact us at"," ",Object(n.jsx)(gt.a,{href:"mailto:wanne036@umn.edu",children:"wanne036@umn.edu"}),"."]}),Object(n.jsx)(x.a,{variant:"h6",component:"h6",children:"6. WHAT ARE YOUR PRIVACY RIGHTS?"}),"\xa0\xa0",Object(n.jsxs)("p",{children:["If you are resident in the European Economic Area and you believe we are unlawfully processing your personal information, you also have the right to complain to your local data protection supervisory authority. You can find their contact details here:\xa0",Object(n.jsx)(gt.a,{href:"http://ec.europa.eu/justice/data-protection/bodies/authorities/index_en.htm",children:"http://ec.europa.eu/justice/data-protection/bodies/authorities/index_en.htm"}),"."]}),Object(n.jsx)(x.a,{variant:"h6",component:"h6",children:"7. CONTROLS FOR DO-NOT-TRACK FEATURES\xa0"}),"\xa0",Object(n.jsx)("p",{children:"Most web browsers and some mobile operating systems and mobile applications include a Do-Not-Track (\u201cDNT\u201d) feature or setting you can activate to signal your privacy preference not to have data about your online browsing activities monitored and collected. No uniform technology standard for recognizing and implementing DNT signals has been finalized. As such, we do not currently respond to DNT browser signals or any other mechanism that automatically communicates your choice not to be tracked online. If a standard for online tracking is adopted that we must follow in the future, we will inform you about that practice in a revised version of this privacy notice."}),Object(n.jsx)(x.a,{variant:"h6",component:"h6",children:"8. DO CALIFORNIA RESIDENTS HAVE SPECIFIC PRIVACY RIGHTS?"}),"\xa0",Object(n.jsx)("p",{children:"In Short: Yes, if you are a resident of California, you are granted specific rights regarding access to your personal information. California Civil Code Section 1798.83, also known as the \u201cShine The Light\u201d law, permits our users who are California residents to request and obtain from us, once a year and free of charge, information about categories of personal information (if any) we disclosed to third parties for direct marketing purposes and the names and addresses of all third parties with which we shared personal information in the immediately preceding calendar year. If you are a California resident and would like to make such a request, please submit your request in writing to us using the contact information provided below.\xa0 If you are under 18 years of age, reside in California, and have a registered account with the Services, you have the right to request removal of unwanted data that you publicly post on the Services. To request removal of such data, please contact us using the contact information provided below, and include the email address associated with your account and a statement that you reside in California. We will make sure the data is not publicly displayed on the Services, but please be aware that the data may not be completely or comprehensively removed from our systems."}),Object(n.jsx)(x.a,{variant:"h6",component:"h6",children:"9. DO WE MAKE UPDATES TO THIS POLICY?"}),"\xa0\xa0",Object(n.jsx)("p",{children:"In Short:\xa0\xa0Yes, we will update this policy as necessary to stay compliant with relevant laws.\xa0\xa0 We may update this privacy notice\xa0from time to time. The updated version will be indicated by an updated \u201cRevised\u201d date and the updated version will be effective as soon as it is accessible. If we make material changes to this privacy notice, we may notify you either by prominently posting a notice of such changes or by directly sending you a notification. We encourage you to review this privacy notice\xa0frequently to be informed of how we are protecting your information."}),Object(n.jsx)(x.a,{variant:"h6",component:"h6",children:"10. HOW CAN YOU CONTACT US ABOUT THIS POLICY?\xa0"}),Object(n.jsxs)("p",{children:["If you have questions or comments about this policy, you may email us at ",Object(n.jsx)(gt.a,{href:"mailto:wanne036@umn.edu",children:"wanne036@umn.edu"})," ","or by post to: Broden Wanner, 900 Washington Ave, Minneapolis, MN 55455, United States"]})]})})})})},vt=Object(m.a)((function(e){return{footer:{position:"absolute",top:"auto",bottom:"0",width:"100%"},extendedIcon:{marginRight:"8px"},footerLink:{color:e.palette.grey[400],opacity:.5},divder:{marginLeft:e.spacing(2),marginRight:e.spacing(2),color:e.palette.grey[400],opacity:.5}}}));var wt=function(){var e=vt();return Object(n.jsx)(b.a,{position:"fixed",color:"primary",className:e.footer,children:Object(n.jsx)(f.a,{children:Object(n.jsxs)(C.a,{container:!0,justify:"center",alignItems:"center",children:[Object(n.jsx)(d.b,{to:"/privacy-policy",className:e.footerLink,children:"Privacy Policy"}),Object(n.jsx)("span",{className:e.divder,children:"|"}),Object(n.jsx)(d.b,{to:"/contact",className:e.footerLink,children:"Contact"}),Object(n.jsx)("span",{className:e.divder,children:"|"}),Object(n.jsx)(x.a,{component:"p",variant:"body2",className:e.footerLink,children:"\xa9 2020 Broden Wanner"})]})})})},Ct=Object(m.a)((function(e){return{page:{display:"flex",width:"100%",overflow:"auto"},content:{marginTop:"10vh",paddingBottom:"5vh","& p":{marginBottom:e.spacing(3)}},title:{marginBottom:e.spacing(5)},email:{fontWeight:"bold"},card:{marginBottom:"10vh",padding:e.spacing(2)}}}));var kt=function(){var e=Ct();return Object(n.jsx)("div",{className:e.page,children:Object(n.jsx)(w.a,{className:e.content,maxWidth:"md",children:Object(n.jsx)(k.a,{className:e.card,children:Object(n.jsxs)(N.a,{children:[Object(n.jsx)(x.a,{variant:"h2",component:"h2",className:e.title,children:"Contact"}),Object(n.jsxs)(x.a,{children:["If you are having issues or would like to contribute, you can access the"," ",Object(n.jsx)(gt.a,{target:"blank",href:"https://github.com/broden-wanner/classes-to-calendar",children:"GitHub repository."})," ","For issues, go to the issues tab of the project and file an issue. For other questions, send an email to the following address:"]}),Object(n.jsxs)(x.a,{className:e.email,children:["Email: ",Object(n.jsx)(gt.a,{href:"mailto:wanne036@umn.edu",children:"wanne036@umn.edu"})]})]})})})})},Nt=Object(m.a)((function(e){return{page:{display:"flex",width:"100%",overflow:"auto"},content:{marginTop:"10vh",paddingBottom:"5vh"},card:{marginBottom:"10vh",padding:e.spacing(2)}}}));function St(){var e=Nt();return Object(n.jsx)("div",{className:e.page,children:Object(n.jsx)(w.a,{className:e.content,children:Object(n.jsx)(k.a,{className:e.card,children:Object(n.jsxs)(N.a,{children:[Object(n.jsx)(C.a,{container:!0,justify:"space-between",children:Object(n.jsx)(x.a,{variant:"h2",component:"h2",align:"center",children:"Not Found :("})}),Object(n.jsxs)(x.a,{children:["Go to the ",Object(n.jsx)(d.b,{to:"/",children:"home page"})]})]})})})})}var It=Object(j.a)({palette:{primary:{light:"#913447",main:"#760219",dark:"#520111",contrastText:"#fff"},secondary:{light:"#FFDF7E",main:"#FFD75E",dark:"#b29641",contrastText:"#000"}}}),Tt=Object(m.a)((function(e){return{background:{display:"flex",height:"100vh",width:"100vw",background:'url("gopher.jpg") no-repeat center center fixed',backgroundSize:"cover"}}})),At=[];if("URLSearchParams"in window){var Dt=new URLSearchParams(window.location.search).get("course_json");try{Dt=decodeURIComponent(Dt),At=JSON.parse(Dt)}catch(Ft){At=[]}Dt||(At=[])}At=At||[];var Et=JSON.parse(localStorage.getItem("extractedClasses"));Et=Et||[];var Lt=function(){var e=Tt(),t=Object(o.useState)(At.length>0?At:Et),a=Object(l.a)(t,2),r=a[0],s=a[1],j=Object(o.useState)(!1),m=Object(l.a)(j,2),b=m[0],g=m[1],f=Object(o.useState)(""),x=Object(l.a)(f,2),O=x[0],y=x[1],w=Object(o.useState)("error"),C=Object(l.a)(w,2),k=C[0],N=C[1],S=Object(o.useState)(!1),I=Object(l.a)(S,2),T=I[0],A=I[1];Object(o.useEffect)((function(){localStorage.setItem("extractedClasses",JSON.stringify(r))}),[r]);var D=function(e,t){g(!0),y(e),N(t)},L=function(){A(!0)};return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(u.a,{}),Object(n.jsx)(p.a,{theme:It,children:Object(n.jsxs)("div",{className:e.background,children:[Object(n.jsxs)(d.a,{children:[Object(n.jsx)(v,{openInstructions:L,extractedClasses:r}),Object(n.jsxs)(h.d,{children:[Object(n.jsx)(h.b,{exact:!0,path:"/",children:Object(n.jsx)(E,{openInstructions:L})}),Object(n.jsx)(h.b,{exact:!0,path:"/upload",children:Object(n.jsx)(oe,{openToast:D,handleClasses:function(e){s(e)}})}),Object(n.jsx)(h.b,{exact:!0,path:"/classes",children:Object(n.jsx)(rt,{extractedClasses:r,handleClassChange:function(e){var t=r.indexOf(e);r.splice(t,1,e),s(Object(c.a)(r))},handleClassAdd:function(){var e={name:"Class Name",dept:"",course_num:"",section:"",location:"",start_time:"",end_time:"",start_date:"",end_date:"",days_of_week:"",id:r.length+1};s([].concat(Object(c.a)(r),[e]))},handleClassDelete:function(e){var t=r.indexOf(e);r.splice(t,1),s(Object(c.a)(r)),D("Class deleted","success")},openToast:D})}),Object(n.jsx)(h.b,{exact:!0,path:"/privacy-policy",children:Object(n.jsx)(yt,{})}),Object(n.jsx)(h.b,{exact:!0,path:"/contact",children:Object(n.jsx)(kt,{})}),Object(n.jsx)(h.b,{children:Object(n.jsx)(St,{})})]}),Object(n.jsx)(wt,{})]}),Object(n.jsx)(bt,{open:T,onClose:function(){A(!1)}}),Object(n.jsx)(ve,{open:b,handleClose:function(e,t){"clickaway"!==t&&g(!1)},message:O,variant:k})]})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(n.jsx)(Lt,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[187,1,2]]]);
//# sourceMappingURL=main.d66250f2.chunk.js.map